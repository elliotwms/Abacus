<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Abacus : PHP currency Composer package from the future">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Abacus</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/elliotwms/Abacus">View on GitHub</a>

          <h1 id="project_title">Abacus</h1>
          <h2 id="project_tagline">PHP currency Composer package from the future</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/elliotwms/Abacus/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/elliotwms/Abacus/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="abacus" class="anchor" href="#abacus" aria-hidden="true"><span class="octicon octicon-link"></span></a>Abacus</h1>

<p><a href="https://travis-ci.org/elliotwms/Abacus"><img src="https://travis-ci.org/elliotwms/Abacus.svg?branch=master" alt="Build Status"></a>
<a href="https://packagist.org/packages/elliotwms/abacus"><img src="https://poser.pugx.org/elliotwms/abacus/v/stable.svg" alt="Latest Stable Version"></a>
<a href="https://packagist.org/packages/elliotwms/abacus"><img src="https://poser.pugx.org/elliotwms/abacus/v/unstable.svg" alt="Latest Unstable Version"></a>
<a href="https://packagist.org/packages/elliotwms/abacus"><img src="https://poser.pugx.org/elliotwms/abacus/downloads.svg" alt="Total Downloads"></a>
<a href="https://packagist.org/packages/elliotwms/abacus"><img src="https://poser.pugx.org/elliotwms/abacus/license.svg" alt="License"></a>
<a href="https://codeclimate.com/github/elliotwms/Abacus"><img src="https://codeclimate.com/github/elliotwms/Abacus/badges/gpa.svg" alt="Code Climate"></a>
<a href="https://codeclimate.com/github/elliotwms/Abacus"><img src="https://codeclimate.com/github/elliotwms/Abacus/badges/coverage.svg" alt="Test Coverage"></a></p>

<p>PHP currency manipulation package from the future. Still in very early development.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Once Abacus has been <a href="#installation">set up successfully</a>, it can be used like so:</p>

<div class="highlight highlight-PHP"><pre><span class="pl-s2"><span class="pl-vo">$abacus</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">Abacus</span>(<span class="pl-c1">1250.00</span>);          <span class="pl-c">// Create a new Abacus object. Defaults to USD</span></span>
<span class="pl-s2"><span class="pl-s3">echo</span> <span class="pl-vo">$abacus</span>;                           <span class="pl-c">// "1250.00"</span></span>
<span class="pl-s2"><span class="pl-s3">echo</span> <span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>format();                 <span class="pl-c">// "$1,250.00"</span></span>
<span class="pl-s2"><span class="pl-s3">echo</span> <span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span><span class="pl-vo">value</span>                     <span class="pl-c">// 1250</span></span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>to(<span class="pl-s1"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>);                     <span class="pl-c">// Convert USD to GBP</span></span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>add(<span class="pl-c1">20</span>);                       <span class="pl-c">// Addition</span></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>add(<span class="pl-c1">10</span>, <span class="pl-s1"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>);                <span class="pl-c">// Addition of a value in another currency</span></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>add(<span class="pl-k">new</span> <span class="pl-s3">Abacus</span>(<span class="pl-c1">5</span>, <span class="pl-s1"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>);      <span class="pl-c">// Adding another Abacus object</span></span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>sub(<span class="pl-c1">20</span>);                       <span class="pl-c">// Subtraction</span></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>sub(<span class="pl-c1">10</span>, <span class="pl-s1"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>);                <span class="pl-c">// Subtraction of a value in another currency</span></span>
<span class="pl-s2"><span class="pl-vo">$abacus</span><span class="pl-k">-&gt;</span>sub(<span class="pl-k">new</span> <span class="pl-s3">Abacus</span>(<span class="pl-c1">5</span>, <span class="pl-s1"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>);      <span class="pl-c">// Subtract another Abacus object</span></span></pre></div>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Install Abacus via <a href="//getcomposer.org">Composer</a> by either including it in your composer.json
file:</p>

<div class="highlight highlight-JSON"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>require<span class="pl-pds">"</span></span>: {
        <span class="pl-s1"><span class="pl-pds">"</span>elliotwms/abacus<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>dev-master<span class="pl-pds">"</span></span>
    }
}</pre></div>

<p>Or by running:</p>

<div class="highlight highlight-Shell"><pre>composer require elliotwms/abacus dev-master</pre></div>

<h3>
<a id="polling-the-api" class="anchor" href="#polling-the-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Polling the API</h3>

<p>Abacus depends on data retrieved from the <a href="https://openexchangerates.org/">Open Exchange Rates</a>
API. In order to use Abacus fully, you must poll the API using your own API key. Abacus will look
for an environment variable named <code>ABACUS_OPEN_EXCHANGE_KEY</code> and can be polled in several ways.</p>

<p>I recommend setting up a CRON service to poll the Open Exchange hourly in order to keep an up to
date record of the currency exchange rates. At the time of writing, the free tier of the Open
Exchange Rates API allows for 1,000 calls per month and there are 744 hours in a month so you're
sorted. It would be fruitless to poll more than once an hour on the free tier as the information
is updated hourly.</p>

<p>If you want more up-to-the-minute exchange rates, I highly recommend
<a href="//openexchangerates.org/signup">signing up for a paid plan</a></p>

<h4>
<a id="using-the-included-script" class="anchor" href="#using-the-included-script" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the included script</h4>

<p>Abacus includes a shell script to minimize the setup process.</p>

<p>You can call it like so (with absolute filepaths for your CRON service) from the root of your
project directory:</p>

<pre><code>php vendor/bin/abacus
</code></pre>

<p>By default it will use the <code>ABACUS_OPEN_EXCHANGE_KEY</code> environment variable, but if you need to
specify it manually you can pass it as an argument:</p>

<pre><code>php vendor/bin/abacus my_super_secret_api_key
</code></pre>

<h4>
<a id="doing-it-manually" class="anchor" href="#doing-it-manually" aria-hidden="true"><span class="octicon octicon-link"></span></a>Doing it manually</h4>

<div class="highlight highlight-PHP"><pre><span class="pl-s2"><span class="pl-s3">Currency</span><span class="pl-k">::</span>update();</span></pre></div>

<p>Abacus will also accept an API key directly:</p>

<div class="highlight highlight-PHP"><pre><span class="pl-s2"><span class="pl-s3">Currency</span><span class="pl-k">::</span>update(<span class="pl-s1"><span class="pl-pds">'</span>my_api_key<span class="pl-pds">'</span></span>);</span></pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Abacus maintained by <a href="https://github.com/elliotwms">elliotwms</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
